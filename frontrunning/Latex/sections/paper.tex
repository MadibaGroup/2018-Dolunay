% !TEX root = ../main.tex
\section{Introductory Remarks}

\subsection{What is frontrunning?} %Definition of frontrunning
%Traditional
%WRT blockchain and decentralization
\subsection{Miners and their power} 
%Transaction order, can be used for frontrunning

% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

\section{Related Work}

% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =


\section{Comparison Framework}

Solutions: \par\noindent
Criteria:



% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

\section{Frontrunning Attacks}

\subsection{Financial Markets}
%oders, exchanges

\subsection{Non-financial Applications}
Applications, Ghazal, register domains before the user, (domain squatting?) \par\noindent
Other applications (look at Dapps or other blockchain use cases)\par\noindent
Arbitrage (buy before the order, sell to the original order) (other scenarios)\par\noindent
Maker griefing (attack on the system?s reputation itself)\par\noindent
Etherdelta case: Fill the order when cancelling transaction is sent. What would be the profitable scenario here?


% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

\section{Implications} %change this to something else

\subsection{Historical evidence of such attacks:}\par\noindent
There has been many incidents of frontrunning in real world blockchains specially where it facilitates monetary gain. Here we will analyze the evidence of these incidents:

% NOTE: This seperation can also happen by another category, like: frontrunning by miners: status ico F2pool, and frontrunning by others

\subsubsection{Status ICO}
ICO, Initial Coin Offering, is one of the blockchain applications, specially blockchains such as Ethereum with smart contract capability. The common practice is to deploy a smart contract on the blockchain indicating the details of the ICO such as the trade ratio, when it starts and ends, and more details on how it will be capped.
In June 2017, Status.im started their ICO and within 3 hours they reached the dynamic ceiling in place that triggered the end of the ICO, summing in 300,000 ether in funds, estimated at more than 200 million dollars at the time of their ICO. ~\cite{statusicoanalysis}. The idea behind Dynamic Ceilings is to make it more costly for larger contributors,  in the form of transaction fees, which have to split their contributions to different addresses, with minimal impact to smaller contributors~\cite{statuswhitepaper}.
On the time of the ICO there were reports of Ethereum network being unusable and transactions were not confirming. Further study showed that some mining pools (\todo: define mining pool) could have been manipulating the network for their own profit.
 
%@shayan: make charts and figure out the orange seller

%NOTE: ICO Initial Coin Offering should be explained probably in introduction section. the process of ICO smart contract and how the capped system works --> limited time/funds can be included in the ico and why people would try to get in as soon as possible, explain how their investment strategy works and such. Maybe the second half could be explained here to say why frontrunning an ICO makes sense? 
% add more on capped ICOs, status used Distribution & Dynamic Ceilings : https://blog.status.im/distribution-dynamic-ceilings-e2f427f5cca  ~\cite{statuswhitepaper}

% The dynamic ceiling and prevention of bigger investments getting their full investment in could be the reason behind the design of F2pool move, by having multiple addresses each contributing around 100ETH to the ICO smart contract, instead of having one big transaction in.
%Also the ICO smart contract only accepted transactions with gas price lower than 50gwei, unless they were whitelisted before. this was for preventing high gas payers to get in front of the line. although as this was not clearly communicated to users (UX issues?), there were tons of transactions that failed due to high gas price but also clogged the ethereum network as the miners chose transactions with higher gas price to be included in their blocks. 


% weird findings: apparently all the tokens bought by f2pool was transfered to Yunbi, the chinese exchange: 0xB6c3647F55085B9a327404Fe8B718076Ee19245a

% Proof of f2pool involvement: https://etherscan.io/address/0x5fb8373bf5086fb38ef0fb686b3092145de0d1c1
% funds come from f2pool and refunds goes back to f2pool again

% I would like to spend some time to make charts from the transactions happening on the date of the Status ICO
% this will include: The blocks mined by F2Pool, containing transactions (~100 ETH) to Status ICO, other blocks mined in that time period, the movement of status tokens from those addresses allegedly linked to F2Pool (or/and Yunbi in this case).
% https://github.com/corpetty/ICO_analysis/blob/master/status/Status.ipynb
% https://github.com/corpetty/py-etherscan-api



\subsubsection{Bancor}
%@mahsa: write about what bancor is and what are the frontrunning attacks

New attacks:\par\noindent
Ghazal\par\noindent
%@mahsa: write on ghazal and namecoin but with the focus on ghazal front running applications
%@ possibility of PoC attack (@shayan @mahsa)

Find more applications to frontrun, not necessarily monetary gain/financial

% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
\section{Mitigations}

Commit / reveal methods %namecoin story @mahsa
\begin{itemize}
\item{Send the hash first, send the actual data after (sealed-bid auctions)}
\item{Proof of burn methods (generate random addresses with no private keys)}
\end{itemize}
Submarines
\begin{itemize}
\item{The method described in HD can be optimized and more functional with the new changes to ethereum and solidity}
\item{Submarines 2.0: There can be a new way of doing this (new WRT hackingditributed article), can predict smart contract addresses using the nonce and data of the contract (forwarder/refunder), so funds can be sent to these addresses and then contracts can be deployed} 
\begin {itemize}
\item{Pros: new addresses, no indication of the order (Anonymity-set)}
\item{Cons: DDoS? Requires 3 transactions for each order?} >> 1 send the funds 2 Deploy the contract 3 call the function
\end{itemize}
\item{Other methods? Consensus protocol based solutions?}

\end{itemize}
% = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

\section{Concluding Remarks}


 
%\subsubsection*{Acknowledgements.} 

































